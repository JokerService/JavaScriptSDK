"use strict";!function(e,t){try{var r=function(){var t=this;this.configuration={environment:"Test",url:"https://km65rong4h.execute-api.eu-west-1.amazonaws.com/",async:!0};var r=function(){var t=!1;if("undefined"!=typeof ActiveXObject)try{t=new ActiveXObject("Msxml2.XMLHTTP")}catch(r){try{t=new ActiveXObject("Microsoft.XMLHTTP")}catch(n){t=!1}}else if(e.XMLHttpRequest)try{t=new XMLHttpRequest}catch(r){t=!1}return t},n=function(e){var n=r();return n?(n.open(e.method,e.url,t.configuration.async),n.setRequestHeader("Content-Type","application/json"),e.token&&n.setRequestHeader("Token",e.token),e.data?n.send(e.data):n.send(),void(n.onreadystatechange=function(){if(4==n.readyState)if(200==n.status){if(e.success&&"function"==typeof e.success){var t={status:n.status,data:JSON.parse(n.responseText)};e.success(t)}}else{var t={status:n.status,error:"unexpected error"};e.error&&"function"==typeof e.error&&e.error(t)}})):void console.log("Browser doesn't support XMLHttpRequest.")},o="";this.init=function(){o=this.configuration.url+this.configuration.environment},this.getCurrentJokerOffer=function(e,t,r){var s={url:"currentoffer"},u=o+"/"+s.url;return n({method:"GET",url:u,token:e,success:t,error:r})},this.getJokerOffer=function(e,t,r,s){var u={url:"getjokeroffer"},a=o+"/"+u.url;return n({method:"POST",url:a,token:e,data:JSON.stringify({RestaurantUniqueKeys:t}),success:r,error:s})},this.acceptJoker=function(e,t,r,s,u){var a={url:"acceptoffer"},c=o+"/"+a.url;return n({method:"POST",url:c,token:e,data:JSON.stringify({OfferId:t,ReservationCode:r}),success:s,error:u})},this.rejectJoker=function(e,t,r,s,u){var a={url:"rejectoffer"},c=o+"/"+a.url;return n({method:"POST",url:c,token:e,data:JSON.stringify({OfferId:t,ReservationCode:r}),success:s,error:u})},this.completeOrder=function(e,t,r,s,u,a){var c={url:"completeorder"},i=o+"/"+c.url;return n({method:"POST",url:i,token:e,data:JSON.stringify({RestaurantUniqueKey:t,OrderKey:r,OrderDateUtc:s}),success:u,error:a})}};e.jaasApi=new r}catch(n){console.log("JaasAPI.js is not loaded.")}}(window,document);